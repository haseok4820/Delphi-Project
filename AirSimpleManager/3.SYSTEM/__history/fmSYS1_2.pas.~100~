unit fmSYS1_2;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Frame_CheckBox, Frame_Edit, Vcl.ExtCtrls;

type
  TForm_SYS1_2 = class(TForm)
    ScrollBox_Main: TScrollBox;
    Label_Title: TLabel;
    Shape1: TShape;
    Frame_CheckBox_ServerYN: TFrame_ENV_CheckBox;
    Panel_Client: TPanel;
    Frame_Edit_HostIP: TFrame_ENV_Edit;
    Frame_Edit_Port: TFrame_ENV_Edit;
    RadioGroup_ExeName: TRadioGroup;
    Frame_CheckBox_AutoRun: TFrame_ENV_CheckBox;
    procedure FormShow(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
    procedure Frame_CheckBox_ServerYNClick(Sender: TObject);
    procedure Frame_CheckBox_AutoRunClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form_SYS1_2: TForm_SYS1_2;

implementation

{$R *.dfm}

uses uDM;

procedure TForm_SYS1_2.FormClose(Sender: TObject; var Action: TCloseAction);
var
  i: Byte;
begin

  //
  AC_bYN := Frame_CheckBox_ServerYN.Tag <> 0;
  if AC_bYN then
  begin
    AC_sHostIP := '';
    AC_iPort := 20228;
    AC_iEXEType := 0;
  end
  else
  begin
    if (RadioGroup_ExeName.ItemIndex <> 0) AND (DM.IPValueCheck(Frame_Edit_HostIP.Edit_Value.Text) = False) then
    begin
      DM.GetPopup(0, '잘못된 IP입니다.', '관리용 장비의 IP를 확인해주세요.', '');
      Frame_Edit_HostIP.Edit_Value.Text := '';
    end;

    AC_sHostIP := Frame_Edit_HostIP.Edit_Value.Text;
    AC_iPort := StrToIntDef(Frame_Edit_Port.Edit_Value.Text, 20228);
    AC_iEXEType := RadioGroup_ExeName.ItemIndex;
  end;
end;

procedure TForm_SYS1_2.FormShow(Sender: TObject);
var
  i: Byte;
begin
  DM.Image_CheckBOX(StrToInt(BoolToStr(NOT AC_bYN)), Frame_CheckBox_ServerYN);

  if AC_bYN then
  begin
    Panel_Client.Visible := False;
  end
  else
  begin
    Frame_Edit_HostIP.Edit_Value.Text := AC_sHostIP;
    Frame_Edit_Port.Edit_Value.Text := IntToStr(AC_iPort);
    RadioGroup_ExeName.ItemIndex := AC_iEXEType;
  end;
end;

procedure TForm_SYS1_2.Frame_CheckBox_AutoRunClick(Sender: TObject);
begin
  // 미사용
  if Frame_CheckBox_AutoRun.Tag <> 0 then
  begin
    if DM.GetPopup(1, '관리자 확인', '부팅시 자동으로 연동 프로그램을 실행하시겠습니까?', '') then

  end;

end;

procedure TForm_SYS1_2.Frame_CheckBox_ServerYNClick(Sender: TObject);
begin
  Panel_Client.Visible := Frame_CheckBox_ServerYN.Tag = 0;
end;

end.
