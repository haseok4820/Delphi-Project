unit Frame_StockInfo;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes,
  Vcl.Graphics, Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Frame_ComboBox;

type
  TFrameStockInfo = class(TFrame)
    Label_StockCode: TLabel;
    Edit_StockName: TEdit;
    Edit_Value: TEdit;
    FrmCombo_Value: TFrame_ENV_ComboBox;
    procedure Label_StockCodeClick(Sender: TObject);
    procedure EditChange(Sender: TObject);
    procedure FrmCombo_ValueClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

const
  EDIT_PRICE = 0;
  EDIT_NOTICE = 1;
  EDIT_TIME = 2;
  EDIT_ADDPRICE = 3;
  EDIT_ADDTIME = 4;

implementation

{$R *.dfm}

uses uDM;

procedure TFrameStockInfo.EditChange(Sender: TObject);
var
  sText : String;
begin
  if (Sender as TEdit).Name = 'Edit_StockName' then
    arrStockInfo[Self.Tag].sStockName := (Sender as TEdit).Text
  else
  begin
    sText  := (Sender as TEdit).Text;
    case (Sender as TEdit).Tag of
      EDIT_PRICE:
        arrStockInfo[Tag].iStockAMT := StrToIntDef(sText, 0);
      EDIT_NOTICE:
        arrStockInfo[Tag].sStandard := sText;
      EDIT_TIME:
        arrStockInfo[Tag].sUnit := sText;
      EDIT_ADDPRICE:
        arrStockInfo[Tag].iMaeipAMT := StrToIntDef(sText, 0);
      EDIT_ADDTIME:
        arrStockInfo[Tag].iNowMaeip := StrToIntDef(sText, 0);
    end;
  end;

end;

procedure TFrameStockInfo.FrmCombo_ValueClick(Sender: TObject);
var
  iTag : NativeInt;
begin
  //

end;

procedure TFrameStockInfo.Label_StockCodeClick(Sender: TObject);
begin
  Color := clSkyBlue;
  if Assigned(Self.OnClick) then
    Self.OnClick(Self);
end;

end.
